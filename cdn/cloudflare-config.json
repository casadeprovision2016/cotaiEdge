{
  "name": "CotAi Edge CDN Configuration",
  "description": "Cloudflare CDN optimization for CotAi Edge production deployment",
  "zones": [
    {
      "name": "cotai-edge.com",
      "settings": {
        "cache_level": "aggressive",
        "browser_cache_ttl": 31536000,
        "edge_cache_ttl": 86400,
        "development_mode": false,
        "security_level": "medium",
        "ssl": "flexible",
        "minify": {
          "css": true,
          "html": true,
          "js": true
        },
        "rocket_loader": true,
        "mirage": true,
        "polish": "lossless",
        "brotli": true,
        "http2": true,
        "http3": true,
        "zero_rtt": true
      },
      "page_rules": [
        {
          "targets": [
            "*.cotai-edge.com/api/*"
          ],
          "actions": {
            "cache_level": "bypass",
            "disable_performance": true,
            "disable_security": false
          }
        },
        {
          "targets": [
            "*.cotai-edge.com/_next/static/*"
          ],
          "actions": {
            "cache_level": "cache_everything",
            "edge_cache_ttl": 31536000,
            "browser_cache_ttl": 31536000
          }
        },
        {
          "targets": [
            "*.cotai-edge.com/uploads/*"
          ],
          "actions": {
            "cache_level": "cache_everything",
            "edge_cache_ttl": 86400,
            "browser_cache_ttl": 86400
          }
        }
      ],
      "workers": [
        {
          "script": "edge-cache",
          "pattern": "*.cotai-edge.com/*"
        }
      ]
    }
  ],
  "workers": {
    "edge-cache": {
      "description": "Edge caching and optimization for CotAi Edge",
      "script_path": "./workers/edge-cache.js"
    }
  },
  "kv_namespaces": [
    {
      "title": "COTAI_CACHE",
      "binding": "CACHE"
    },
    {
      "title": "COTAI_CONFIG",
      "binding": "CONFIG"
    }
  ],
  "r2_buckets": [
    {
      "binding": "DOCUMENTS",
      "bucket_name": "cotai-documents",
      "preview_bucket_name": "cotai-documents-preview"
    }
  ]
}